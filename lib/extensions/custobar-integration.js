!function(e){function t(o){if(r[o])return r[o].exports;var n=r[o]={exports:{},id:o,loaded:!1};return e[o].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){e.exports=r(4)},,function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var i=r(3),u=o(i),a=function(){function e(){n(this,e),this.name="base-extension",u.default.extensions.push(this)}return e.prototype.register=function(){},e}();t.default=a},function(e,t){e.exports=VideolyWidget},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function n(e,t){for(var r=Object.getOwnPropertyNames(t),o=0;o<r.length;o++){var n=r[o],i=Object.getOwnPropertyDescriptor(t,n);i&&i.configurable&&void 0===e[n]&&Object.defineProperty(e,n,i)}return e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):n(e,t))}t.__esModule=!0;var c=r(2),d=o(c),s=r(3),p=o(s),f=function(e){function t(){i(this,t);var r=u(this,e.call(this));return r.name="custobar-integration",r}return a(t,e),t.prototype.register=function(){for(var r,o=arguments.length,n=Array(o),i=0;i<o;i++)n[i]=arguments[i];(r=e.prototype.register).call.apply(r,[this].concat(n)),p.default.mediator.on("player:play-started",function(e){t.onVideoStart(e)},!1),p.default.mediator.on("box:show-more-clicked",function(e){t.onSeeMoreClicked(e)},!1),p.default.mediator.on("player:heartbeat-percentage",function(e,r){t.onHeartbeatPercentage(e,r)},!1)},t.sendEvent=function(e,t){if(window.cstbr&&window.cstbr.push){var r=t||{};r.type=e,window.cstbr.push(t)}},t.getCustobarProperty=function(e){return window.cstbr&&window.cstbr[e]?window.cstbr[e]:void 0},t.onVideoStart=function(e){var r=e.videoParams.currentVideoItem,o={product_id:t.getCustobarProperty("_productId"),product_sku:e.box.properties.SKU||"",video_id:r.videoId||"",video_title:r.title||"",video_duration:r.duration||"",video_genre:r.genre||"",video_language:r.lang||""};t.sendEvent("VIDEOLY_VIEW",o)},t.onSeeMoreClicked=function(e){var r={product_id:t.getCustobarProperty("_productId"),product_sku:e.properties.SKU||""};t.sendEvent("VIDEOLY_SEEMORE",r)},t.onHeartbeatPercentage=function(e,r){var o=[20,60];if(o.indexOf(r.roundPercentage)!==-1){var n={product_id:t.getCustobarProperty("_productId"),product_sku:e.properties.SKU||"",video_id:r.videoId||"",time_elapsedSeconds:r.time||""},i="VIDEOLY_WATCHED_"+r.roundPercentage;t.sendEvent(i,n)}},t}(d.default),l=new f;t.default=l}]);