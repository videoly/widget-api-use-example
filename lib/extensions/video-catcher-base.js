!function(e){function t(n){if(o[n])return o[n].exports;var i=o[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}({0:function(e,t,o){e.exports=o(65)},2:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=o(3),a=n(r),s=function(){function e(){i(this,e),this.name="base-extension",a.default.extensions.push(this)}return e.prototype.register=function(){},e}();t.default=s},3:function(e,t){e.exports=VideolyWidget},65:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){for(var o=Object.getOwnPropertyNames(t),n=0;n<o.length;n++){var i=o[n],r=Object.getOwnPropertyDescriptor(t,i);r&&r.configurable&&void 0===e[i]&&Object.defineProperty(e,i,r)}return e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):i(e,t))}t.__esModule=!0;var d=o(2),l=n(d),c=o(3),f=n(c),u=o(66),p=n(u),h=function(e){function t(){r(this,t);var o=a(this,e.call(this));return o.name="video-catcher",o}return s(t,e),t.prototype.register=function(t){for(var o,n=this,i=arguments.length,r=Array(i>1?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];(o=e.prototype.register).call.apply(o,[this,t].concat(r)),this.options=t||{},this.delayedScrapeDone=!1,this.delayedScrapeSelectionIntervals={},f.default.mediator.on("box:before-load",function(e){n.onBoxBeforeLoad(e)},!0),f.default.mediator.on("box:got-data",function(e){n.onBoxGotData(e)},!0)},t.prototype.onBoxBeforeLoad=function(e){this.scrapeOwnVideos(e)},t.prototype.onBoxGotData=function(e){e.data&&e.data.items&&(0!==e.data.items.length||e.data.flags.hideNative)&&"off"!==e.data.flags.glSplit||this.showOwnVideos(e)},t.prototype.scrapeOwnVideos=function(e){var t=this;this.options.ownVideos&&this.options.ownVideos.forEach(function(o){o.waitForItMs||o.waitForElement?t.prepareDelayedScrape(e,o):(t.scrapeOwnVideoImmediately(e,o),t.hideOwnVideos(e))})},t.prototype.scrapeOwnVideoImmediately=function(e,t){var o=f.default.tools.dom.selectElements(t.videoElement,e.container);o&&o.length>0&&(e.ownVideos=[],o.forEach(function(o){var n=f.default.tools.getXPathValue(t.xpathForVideoId,o),i=t.parseYTId===!1?n:f.default.tools.youtubeHelper.parseVideoIdFromUrl(n);if(i){var r=new p.default(o,i);e.ownVideos.push(r),void 0!==t.hideVideoElements&&(r.hideable=t.hideVideoElements)}}),this.expandBoxOwnVideosCollection(e))},t.prototype.prepareDelayedScrape=function(e,t){var o=this;if(t.waitForItMs&&Number.isFinite(t.waitForItMs))return void setTimeout(function(){o.performDelayedScrape(e,t)},t.waitForItMs);if(t.waitForElement&&"string"==typeof t.waitForElement){var n=0;this.delayedScrapeSelectionIntervals[e.boxId]=setInterval(function(){n++;var i=f.default.tools.dom.selectElement(t.waitForElement,e.container);(i||60===n)&&(clearInterval(o.delayedScrapeSelectionIntervals[e.boxId]),o.delayedScrapeSelectionIntervals[e.boxId]=null),i&&o.performDelayedScrape(e,t)},t.waitForElementInterval||500)}},t.prototype.performDelayedScrape=function(e,t){this.scrapeOwnVideoImmediately(e,t),this.hideOwnVideos(e),e.data.product_id?e.sendOwnVideos():f.default.mediator.on("box:got-data",function(e){e.sendOwnVideos()},!0)},t.prototype.expandBoxOwnVideosCollection=function(e){e.ownVideos.toString=function(){return"["+this.map(function(e){return e.toString()}).join(",")+"]"}},t.prototype.hideOwnVideos=function(e){e.ownVideos&&e.ownVideos.length&&e.ownVideos.forEach(function(e){if(e.hideable){var t=e.element;t.style.display="none"}})},t.prototype.showOwnVideos=function(e){e.ownVideos&&e.ownVideos.length&&e.ownVideos.forEach(function(e){e.hideable&&(e.element.style.display=e.firstStateDisplay)})},t}(l.default);t.default=h},66:function(e,t){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var n=function(){function e(t,n){o(this,e),this.element=t,this.ytVideoId=n,this.firstStateDisplay=t.style.display,this.hideable=!0}return e.prototype.toString=function(){return'{"ytVideoId":"'+this.ytVideoId+'"}'},e}();t.default=n}});